{
  "openapi": "3.0.0",
  "info": {
    "description": "该接口用于获取当日订单和订单查询",
    "version": "v1",
    "title": "获取当日订单"
  },
  "paths": {
    "/v1/trade/order/today": {
      "get": {
        "description": "该接口用于获取当日订单和订单查询",
        "summary": "获取当日订单",
        "access": "交易权限",
        "parameters": [
          {
            "name": "symbol",
            "in": "query",
            "description": "股票代码，使用 `ticker.region` 格式，例如：`AAPL.US`",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "[订单状态](../trade-definition#orderstatus)<br/><br/>例如：`status=FilledStatus&status=NewStatus`",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "side",
            "in": "query",
            "description": "买卖方向<br/><br/> **可选值:**<br/> `Buy` - 买入<br/> `Sell` - 卖出",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "market",
            "in": "query",
            "description": "市场<br/><br/> **可选值:**<br/> `US` - 美股<br/> `HK` - 港股",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "order_id",
            "required": false,
            "description": "订单 ID，用于指定订单 ID 查询，例如：`701276261045858304`",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "当日订单查询成功",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/today_orders_rsp"
                }
              }
            }
          },
          "400": {
            "description": "查询失败，请求参数错误。"
          }
        },
        "request_body": {
          "type": "python",
          "value": "from longport.openapi import TradeContext, Config, OrderStatus, OrderSide, Market\n\nconfig = Config.from_env()\nctx = TradeContext(config)\n\nresp = ctx.today_orders(\n    symbol = \"700.HK\",\n    status = [OrderStatus.Filled, OrderStatus.New],\n    side = OrderSide.Buy,\n    market = Market.HK,\n)\nprint(resp)\n"
        },
        "response_body": {
          "code": 0,
          "message": "success",
          "data": {
            "orders": [
              {
                "currency": "HKD",
                "executed_price": "0.000",
                "executed_quantity": "0",
                "expire_date": "",
                "last_done": "",
                "limit_offset": "",
                "msg": "",
                "order_id": "706388312699592704",
                "order_type": "ELO",
                "outside_rth": "UnknownOutsideRth",
                "price": "11.900",
                "quantity": "200",
                "side": "Buy",
                "status": "RejectedStatus",
                "stock_name": "东亚银行",
                "submitted_at": "1651644897",
                "symbol": "23.HK",
                "tag": "Normal",
                "time_in_force": "Day",
                "trailing_amount": "",
                "trailing_percent": "",
                "trigger_at": "0",
                "trigger_price": "",
                "trigger_status": "NOT_USED",
                "updated_at": "1651644898",
                "remark": ""
              }
            ]
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "today_orders_rsp": {
        "properties": {
          "orders": {
            "type": "array",
            "description": "订单信息",
            "required": [
              "order_id",
              "status",
              "stock_name",
              "quantity",
              "executed_quantity",
              "price",
              "executed_price",
              "submitted_at",
              "side",
              "symbol",
              "order_type",
              "last_done",
              "trigger_price",
              "msg",
              "tag",
              "time_in_force",
              "expire_date",
              "updated_at",
              "trigger_at",
              "trailing_amount",
              "trailing_percent",
              "limit_offset",
              "trigger_status",
              "currency",
              "outside_rth",
              "remark"
            ],
            "properties": {
              "order_id": {
                "type": "string",
                "description": "订单 ID"
              },
              "status": {
                "type": "string",
                "description": "[订单状态](../trade-definition#orderstatus)"
              },
              "stock_name": {
                "type": "string",
                "description": "股票名称"
              },
              "quantity": {
                "type": "string",
                "description": "下单数量"
              },
              "executed_quantity": {
                "type": "string",
                "description": "成交数量。<br/><br/>当订单未成交时为 0"
              },
              "price": {
                "type": "string",
                "description": "下单价格。<br/><br/>当市价条件单未触发时为空字符串"
              },
              "executed_price": {
                "type": "string",
                "description": "成交价。<br/><br/>当订单未成交时为 0"
              },
              "submitted_at": {
                "type": "string",
                "description": "下单时间"
              },
              "side": {
                "type": "string",
                "description": " 买卖方向<br/><br/> **可选值:**<br/> `Buy` - 买入<br/> `Sell` - 卖出"
              },
              "symbol": {
                "type": "string",
                "description": "股票代码，使用 `ticker.region` 格式，例如：`AAPL.US`"
              },
              "order_type": {
                "type": "string",
                "description": "[订单类型](../trade-definition#ordertype)"
              },
              "last_done": {
                "type": "string",
                "description": "最近成交价格。<br/><br/>当订单未成交时为空字符串"
              },
              "trigger_price": {
                "type": "string",
                "description": "`LIT` / `MIT` 订单触发价格。<br/><br/>当订单不是 `LIT` / `MIT` 订单为空字符串"
              },
              "msg": {
                "type": "string",
                "description": "拒绝信息或备注，默认为空字符串。"
              },
              "tag": {
                "type": "string",
                "description": "订单标记<br/><br/> **可选值:**<br/> `Normal` - 普通订单<br/> `GTC` - 长期单<br/> `Grey` - 暗盘单"
              },
              "time_in_force": {
                "type": "string",
                "description": " 订单有效期类型<br/><br/> **可选值:**<br/> `Day` - 当日有效<br/> `GTC` - 撤单前有效<br/> `GTD` - 到期前有效"
              },
              "expire_date": {
                "type": "string",
                "description": "长期单过期时间，格式为 `YYYY-MM-DD`, 例如：`2022-12-05。<br/><br/>不是长期单时，默认为空字符串。`"
              },
              "updated_at": {
                "type": "string",
                "description": "最近更新时间，格式为时间戳 (秒)，默认为 0。"
              },
              "trigger_at": {
                "type": "string",
                "description": "条件单触发时间，格式为时间戳 (秒)，默认为 0。"
              },
              "trailing_amount": {
                "type": "string",
                "description": "`TSLPAMT` / `TSMAMT` 订单跟踪金额。<br/><br/>当订单不是 `TSLPAMT` / `TSMAMT` 订单时为空字符串。"
              },
              "trailing_percent": {
                "type": "string",
                "description": "`TSLPPCT` / `TSMPCT` 订单跟踪涨跌幅。<br/><br/>当订单不是 `TSLPPCT` / `TSMPCT` 订单时为空字符串。"
              },
              "limit_offset": {
                "type": "string",
                "description": "`TSLPAMT` / `TSLPPCT` 订单指定价差。<br/><br/>当订单不是 `TSLPAMT` / `TSLPPCT` 订单时为空字符串。"
              },
              "trigger_status": {
                "type": "string",
                "description": "条件单触发状态<br/> 当订单不是条件单或条件单未触发时，触发状态为 NOT_USED<br/><br/> **可选值:**<br/> `NOT_USED` - 未激活 `DEACTIVE` - 已失效 `ACTIVE` - 已激活 `RELEASED` - 已触发"
              },
              "currency": {
                "type": "string",
                "description": "结算货币"
              },
              "outside_rth": {
                "type": "string",
                "description": "是否允许盘前盘后<br/> 当订单不是美股时，默认为 UnknownOutsideRth<br/><br/> **可选值:**<br/> `RTH_ONLY` - 不允许盘前盘后<br/> `ANY_TIME` - 允许盘前盘后\""
              },
              "remark": {
                "type": "string",
                "description": "备注"
              }
            }
          }
        }
      }
    }
  }
}
